<!--
  Generated template for the EditlistingPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>

  <ion-navbar color="theme-header">
  	 <button ion-button menuToggle>
      <ion-icon><img class="menuicon" src="assets/imgs/menuicon.png"></ion-icon>
    </button>
    <ion-title>Edit Listing</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
       <form #editparkingform="ngForm" name='editparkingform' novalidate (submit)="Editparking(editparkingform)">
	<div class="content-sec">
		<ion-list>
		  <ion-item>
		    <ion-input type="text" placeholder="Parking Name" [(ngModel)]="data.parkingname" name="parkingname" #parkingname="ngModel" required></ion-input>
		  </ion-item>
                                                    <div class="alert alert-danger red" color="danger">
                                    <div *ngIf="parkingname.errors && (parkingname.dirty || parkingname.touched)">
                                        <div [hidden]="!parkingname.errors.required">
                                            Parking name is required
                                        </div>
                                    </div>
                                </div>
		  <ion-item>
		    <ion-input type="text" placeholder="Street Address" [(ngModel)]="data.streetaddress" name="streetaddress" #streetaddress="ngModel" required></ion-input>
		  </ion-item>
                    <div class="alert alert-danger red" color="danger">
                                    <div *ngIf="streetaddress.errors && (streetaddress.dirty || streetaddress.touched)">
                                        <div [hidden]="!streetaddress.errors.required">
                                            Street address is required 
                                        </div>
                                    </div>
                                </div>
		  <ion-item>
		    <ion-input type="text" placeholder="City" [(ngModel)]="data.city" name="city" #city="ngModel" required></ion-input>
		  </ion-item>
                    <div class="alert alert-danger red" color="danger">
                                    <div *ngIf="city.errors && (city.dirty || city.touched)">
                                        <div [hidden]="!city.errors.required">
                                            City is required 
                                        </div>
                                    </div>
                                </div>
		  <ion-item>
		    <ion-input type="text" placeholder="State" [(ngModel)]="data.state" name="state" #state="ngModel" required></ion-input>
		  </ion-item>
            <div class="alert alert-danger red" color="danger">
                                    <div *ngIf="state.errors && (state.dirty || state.touched)">
                                        <div [hidden]="!state.errors.required">
                                            State is required
                                        </div>
                                    </div>
                                </div>
		  <ion-item>
		    <ion-input type="text" placeholder="Zip" [(ngModel)]="data.zip" name="zip" #zip="ngModel" maxlength='10' required></ion-input>
		  </ion-item>
                     <div class="alert alert-danger red" color="danger">
                                    <div *ngIf="zip.errors && (zip.dirty || zip.touched)">
                                        <div [hidden]="!zip.errors.required">
                                            Zip is required 
                                        </div>
                                    </div>
                                </div>
		  <ion-item>
		    <ion-input type="tel" placeholder="Space Number" [(ngModel)]="data.spacenumber" name="spacenumber"  maxlength="5" #spacenumber="ngModel" required></ion-input>
		  </ion-item>
 <div class="alert alert-danger red" color="danger">
                                    <div *ngIf="spacenumber.errors && (spacenumber.dirty || spacenumber.touched)">
                                        <div [hidden]="!spacenumber.errors.required">
                                           Space number is required 
                                        </div>
                                    </div>
                                </div>
		  <h2>Space Availability</h2>
		   <!--  <div class="mainsec" style="padding-right: 5px;">
			  <div class="outer_div">
			  	  <h2>Start Date/Time</h2>
				  <ion-item style="margin:0; border-radius: 5px 5px 0 0;">
				    <ion-datetime displayFormat="h:mm A" pickerFormat="h mm A" placeholder="Time"></ion-datetime>
				  </ion-item>
				  <ion-item style="margin:0; border-radius: 0 0 5px 5px;">
				    <ion-datetime displayFormat="MM/DD/YYYY" placeholder="Date"></ion-datetime>
				  </ion-item>
			  </div>
			</div>

		    <div class="mainsec" style="padding-left: 5px;">
			  <div class="outer_div">
			  	  <h2>End Date/Time</h2>
				  <ion-item style="margin:0; border-radius: 5px 5px 0 0;">
				    <ion-datetime displayFormat="h:mm A" pickerFormat="h mm A" placeholder="Time"></ion-datetime>
				  </ion-item>
				  <ion-item style="margin:0; border-radius: 0 0 5px 5px;">
				    <ion-datetime displayFormat="MM/DD/YYYY" placeholder="Date"></ion-datetime>
				  </ion-item>
			  </div>
			</div> -->

			<ion-item>
		        <ion-label class="slct">Select Day</ion-label>
		        <ion-select  [(ngModel)]="data.day" name="day" #day="ngModel" >
		          <ion-option value="Sunday">Sunday</ion-option>
		          <ion-option value="Monday">Monday</ion-option>
		          <ion-option value="Tuesday">Tuesday</ion-option>
		          <ion-option value="Wednesday">Wednesday</ion-option>
		          <ion-option value="Thursday">Thursday</ion-option>
		          <ion-option value="Friday">Friday</ion-option>
		          <ion-option value="Saturday">Saturday</ion-option>
		        </ion-select>
		      </ion-item>

		    <ion-grid class="paddingnone">
		      <ion-row>
		        <ion-col col-5 class="padding-left">
		          <ion-item>
		            <ion-datetime placeholder="Start Time" displayFormat="hh:mm A" pickerFormat ="hh:mm A" [(ngModel)]="data.opening_time" name="opening_time" #opening_time="ngModel" ></ion-datetime>
		          </ion-item>
		        </ion-col>
		        <ion-col col-5 class="paddingtopbtm">
		          <ion-item>
		            <ion-datetime placeholder="End Time" displayFormat="hh:mm A" pickerFormat ="hh:mm A" [(ngModel)]="data.closing_time" name="closing_time" #closing_time="ngModel" ></ion-datetime>
		          </ion-item>
		        </ion-col> 
		        <ion-col col-2 class="padding-right">
		          <ion-item class="addbtn">
		            <button type="button" ion-button clear color="gray" (click)="closingtime(editparkingform)"><ion-icon name="add"></ion-icon></button>
		          </ion-item>
		        </ion-col>
		      </ion-row>
		    </ion-grid>

<!--    <div class="tagsec">
      <div class="inner-sec">
        <p style="margin-bottom:1px;">Monday</p>
        <p><span>7 AM</span> to <span>9 Pm</span></p>
        <ion-icon name="close"></ion-icon>
      </div>
    </div>-->
                    <div class="tagsec" *ngIf="daytime.length>0">
                <div class="inner-sec" *ngFor="let d of daytime;let i = index">
                     <p style="margin-bottom:1px;">{{d.day}}</p>
                    <p><span>{{d.opening_time}}</span> to <span>{{d.closing_time}}</span></p>
                    <ion-icon name="close" (click)="DeleteTimes(d,i)"></ion-icon>
                </div>
            </div>

		  <ion-item>
		    <ion-input type="tel" placeholder="Parking Size" maxlength="5" [(ngModel)]="data.parkingsize" name="parkingsize" #parkingsize="ngModel" required></ion-input>
		  </ion-item>
                    <div class="alert alert-danger red" color="danger">
                                    <div *ngIf="parkingsize.errors && (parkingsize.dirty || parkingsize.touched)">
                                        <div [hidden]="!parkingsize.errors.required">
                                            Parking size is required
                                        </div>
                                    </div>
                                </div>
		  <ion-item>
		    <ion-input type="text" placeholder="Restrictions" [(ngModel)]="data.restrictions" name="restrictions" #restrictions="ngModel" required></ion-input>
		  </ion-item>
                    <div class="alert alert-danger red" color="danger">
                                    <div *ngIf="restrictions.errors && (restrictions.dirty || restrictions.touched)">
                                        <div [hidden]="!restrictions.errors.required">
                                            Restrictions are required
                                        </div>
                                    </div>
                                </div>
		  <ion-item>
		    <ion-input type="tel" placeholder="Hourly Rate" [(ngModel)]="data.rate" name="rate" #rate="ngModel" maxlength="8" required></ion-input>
		  </ion-item>
	   <div class="alert alert-danger red" color="danger">
                                    <div *ngIf="rate.errors && (rate.dirty || rate.touched)">
                                        <div [hidden]="!rate.errors.required">
                                            Hourly rate is required 
                                        </div>
                                    </div>
                                </div>
		</ion-list>
<button class="btn1" color="theme-header" type="button" ion-button block (click)="uploadagreement()">Upload Leasing Agreement</button>
		  <div class="doct" *ngIf="leasingpic">
    <img [src]="leasingpic">
    <img src="assets/imgs/crosimg.png" class="delete-img" (click)="DeleteImage1()">
  </div>
	</div>

	<div class="photosec">
          <h2 style="position:relative;width: 100%; float: left;">Add Photo <span>( Multiple photos )</span>
          <button ion-button color="theme-header" *ngIf="bit<=2" type="button" (click)="CameraAction()"><ion-icon name="add"></ion-icon></button>
          </h2>
          <ion-grid style="padding:0;" *ngIf="arr.length>0">
              <ion-row>
                <ion-col col-4 *ngFor = "let ar of arr;let i = index">
                  <div class="image-wrapper">
                    <img src="{{ar}}">
                    <img src="assets/imgs/crosimg.png" class="delete-img" (click)="DeleteImage(i)">
                  </div>
                </ion-col>
              </ion-row>
            </ion-grid>               
        </div>
        <button style="margin-top: 25px;" ion-button color="theme-header" block class="btn1"type="submit" [disabled]='!editparkingform.valid'>SAVE</button>
              </form>
</ion-content>
