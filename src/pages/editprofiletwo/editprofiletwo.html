<!--
  Generated template for the EditprofiletwoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="theme-header">
    <ion-title>edit profile</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
	<div class="top-sec">
		<div class="img-wrapper">
        <img *ngIf="srcImage" class="pick0" [src]="srcImage">
 <img *ngIf="!srcImage" class="pick0" src="assets/imgs/user.png">
		</div>
		<span (click)="getpicture()"><p>Edit</p></span>
		<h2>{{profileinfo.name}}</h2>

	</div>
	<div class="content-sec">
      <form #editprofile="ngForm" novalidate (submit)="edit(editprofile)">
		<ion-list>
		  <ion-item>
		    <ion-input type="text" placeholder="Name" [(ngModel)]="data.fullname" #fullname='ngModel'  name="fullname" required></ion-input>
      </ion-item>
      <div class="alert alert-danger red" color="danger">
          <div *ngIf="fullname.errors && (fullname.dirty || fullname.touched)">
            <div [hidden]="!fullname.errors.required">
              Name is required
            </div>
          </div>
       </div>
		  <ion-item>
		    <ion-input type="email" placeholder="Email"  [(ngModel)]="data.email" name="email" #email="ngModel" pattern="^[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{1,63})$" readonly ></ion-input>
      </ion-item>
      <div class="alert alert-danger red" color="danger">
          <div *ngIf="email.errors && (email.dirty || email.touched)">
            <div [hidden]="!email.errors.required">
              Email is required
            </div>
            <div [hidden]="!email.errors.pattern">
              Invalid email
            </div>
          </div>
       </div>
       <ion-item>
		    <ion-input type="tel" placeholder="xxx-xxx-xxxx" [(ngModel)]="data.phone" name="phone" #phone="ngModel" pattern="^[0-9]+(-[0-9]+)+$" maxlength="12"   (input)="phonevalidation4(data.phone)" required></ion-input>
      </ion-item>
      <div class="alert alert-danger red" color="danger">
        <div *ngIf="phone.errors && (phone.dirty || phone.touched)">
            <div [hidden]="!phone.errors.required">
                Phone number required
            </div>
            <div [hidden]="!phone.errors.pattern">
                Only number allowed
            </div>
        </div>
    </div>
		  <ion-item class="btn" *ngIf='profileinfo?.regitration_type == "simple_registration"' (click)="change()">
		  <h3>Change Password</h3>
		   <ion-icon name="arrow-forward" item-end></ion-icon>
		  </ion-item>
		</ion-list>
    <button class="btn1" color="theme-header" ion-button block type='submit' [disabled]='!editprofile.valid'>Save</button>
  </form>
	</div>
</ion-content>
